webpackJsonp([1],{119:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAIxJREFUSA1jZKAR+LDR+T8+o5nwSdJSbuRZzEgoLkgNbgH/vYzY9KDbM/KCesB8jBHHuOIIW7xRIjZgPh55FrNQEk/E6EXPv7A0NGBBTbSP0V2O7luYT9DFcfEHzMejFuOKEqqLD1hQE52qSU21hIJowHw8ajGhqKGa/IAFNUaqJlQmU8vLA+bjkWcxAH9kGgjcpYbHAAAAAElFTkSuQmCC"},168:function(t,e,n){function o(t){n(186)}var r=n(13)(n(250),n(173),o,null,null);t.exports=r.exports},169:function(t,e,n){function o(t){n(188)}var r=n(13)(n(251),n(175),o,null,null);t.exports=r.exports},170:function(t,e,n){function o(t){n(190)}var r=n(13)(n(252),n(177),o,null,null);t.exports=r.exports},171:function(t,e,n){function o(t){n(189)}var r=n(13)(n(253),n(176),o,null,null);t.exports=r.exports},172:function(t,e,n){function o(t){n(191)}var r=n(13)(n(254),n(178),o,null,null);t.exports=r.exports},173:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v(t._s(t.msg))])])},staticRenderFns:[]}},174:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},175:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-hook"},[n("label",{staticClass:"btn-return",on:{click:t.clickReturn}},[n("i",{staticClass:"el-icon-arrow-left"}),t._v("返回")]),t._v(" "),n("div",{staticClass:"center-panel"},[n("el-card",{staticClass:"left"},[n("div",{staticClass:"header",slot:"header"},[t._v("远程终端")]),t._v(" "),n("code",{ref:"terminalPanel",staticClass:"terminal-panel",on:{click:t.focusToInput}},[t._l(t.inputHistory,function(e,o){return n("ul",[n("li",[n("i",{staticClass:"arrow"},[t._v("➜")]),t._v(t._s(e.order))]),t._v(" "),t._l(t.response(e.response),function(e,o){return n("li",{domProps:{innerHTML:t._s(e)}})})],2)}),t._v(" "),n("div",{staticClass:"input"},[n("label",{staticClass:"pwd"},[n("i",{staticClass:"arrow"},[t._v("➜")]),t._v(t._s(t.getCwd()))]),t._v(" "),n("input",{ref:"terminalInput",attrs:{type:"text",autofocus:""},on:{keyup:[function(e){return("button"in e||75===e.keyCode)&&e.ctrlKey?void t.onClearHistory(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.onEnterOrder(e)}]}})])],2)]),t._v(" "),n("el-card",{staticClass:"right"},[n("div",{staticClass:"header",slot:"header"},[t._v("目标命令栏")]),t._v(" "),n("div",{staticClass:"result-panel"},t._l(t.results,function(e,o){return n("el-tag",[n("el-tooltip",{attrs:{content:e,placement:"left"}},[n("label",[t._v(t._s(e))])]),t._v(" "),n("i",{staticClass:"el-icon-document"}),t._v(" "),n("i",{staticClass:"el-icon-delete"})],1)})),t._v(" "),n("el-button",{staticClass:"btn-default",attrs:{type:"primary"},on:{click:t.onGenerateDefault}},[t._v("生成默认命令集")])],1)],1),t._v(" "),n("el-button",{staticClass:"btn-save",attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("保存")]),t._v(" "),n("el-dialog",{attrs:{title:"保存",visible:t.dialogFormVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{attrs:{"label-width":"90px"},on:{submit:function(e){e.preventDefault(),t.onSave(e)}},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[n("el-form-item",{attrs:{label:"HOOK名称"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.form.name=e},expression:"form.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.form.description,callback:function(e){t.form.description=e},expression:"form.description"}})],1),t._v(" "),n("el-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(e){e.preventDefault(),t.onSave(e)}}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:t.onReset}},[t._v("取 消")])],1)],1)],1)},staticRenderFns:[]}},176:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"layout"},[o("div",{staticClass:"left"},[o("div",{staticClass:"logo",on:{click:t.onClickLogo}},[o("img",{attrs:{src:n(119)}}),t._v("\n      HOOKS\n    ")]),t._v(" "),o("el-menu",{attrs:{"default-active":"1",theme:"dark",router:!0}},[o("el-menu-item",{attrs:{index:"1",route:{name:"hookList"}}},[o("i",{staticClass:"el-icon-menu"}),t._v("列表")]),t._v(" "),o("el-menu-item",{attrs:{index:"2",route:{name:"history"}}},[o("i",{staticClass:"el-icon-document"}),t._v("日志查询")]),t._v(" "),o("el-menu-item",{attrs:{index:"3"}},[o("i",{staticClass:"el-icon-setting"}),t._v("退出")])],1)],1),t._v(" "),o("div",{staticClass:"center"},[o("router-view")],1)])},staticRenderFns:[]}},177:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hook-list"},[n("div",{staticClass:"top-panel"},[n("el-button",{attrs:{type:"primary"},on:{click:t.clickCreate}},[n("i",{staticClass:"el-icon-plus el-icon--left"}),t._v("创建")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.hookList,border:"",stripe:"","highlight-current-row":"","current-row-key":"0","row-key":"id"}},[n("el-table-column",{attrs:{label:"名称",prop:"name",width:"130"}}),t._v(" "),n("el-table-column",{attrs:{label:"调用地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.getAddr(e.row))+"\n          "),n("el-tag",{staticClass:"copy-btn",attrs:{"data-clipboard-text":t.getAddr(e.row)},on:{click:function(n){t.handleEdit(e.$index,e.row)}}},[t._v("复制")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"描述",width:"300",prop:"description"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),n("div",{staticClass:"terminal-panel"},[n("el-card",{staticClass:"detail-panel"},[n("label",[t._v("命令详情")]),t._v(" "),n("code",{staticClass:"content"},[t._v("\n        ll\n      ")])]),t._v(" "),n("el-card",{staticClass:"run-panel"},[n("el-tag",[t._v("运行")]),t._v(" "),n("code",{staticClass:"content"},[t._v("\n        ➜  ~ ll "),n("br"),t._v("\n        total 16"),n("br"),t._v("\n        drwx------   4 yqdong  staff   136B  6  4  2015 Applications"),n("br"),t._v("\n        drwx------+ 20 yqdong  staff   680B  8  4 15:38 Desktop"),n("br"),t._v("\n        drwx------+ 27 yqdong  staff   918B  8  9 10:37 Documents"),n("br"),t._v("\n        drwx------+ 30 yqdong  staff   1.0K  8 10 10:48 Downloads"),n("br"),t._v("\n        drwx------@ 73 yqdong  staff   2.4K  7 28 18:06 Library"),n("br"),t._v("\n        drwx------+  3 yqdong  staff   102B  1 24  2016 Movies"),n("br"),t._v("\n        drwx------+  5 yqdong  staff   170B 11 15  2016 Music"),n("br"),t._v("\n        drwx------+  9 yqdong  staff   306B 10 11  2015 Pictures"),n("br"),t._v("\n        drwxr-xr-x+  5 yqdong  staff   170B  5 17  2015 Public"),n("br"),t._v("\n        drwxr-xr-x  10 yqdong  staff   340B  7 22 21:54 WebstormProjects"),n("br"),t._v("\n        -rw-r--r--   1 yqdong  staff     0B  7 28 18:06 default.txaPackage"),n("br"),t._v("\n        drwxr-xr-x  20 yqdong  staff   680B  7 28 14:15 git_workspace"),n("br"),t._v("\n        drwxr-xr-x  21 yqdong  staff   714B  8  4 16:09 github"),n("br"),t._v("\n        drwxr-xr-x  16 yqdong  staff   544B  8  2 15:23 gitlab"),n("br"),t._v("\n        drwxr-xr-x   8 yqdong  staff   272B  2  7  2017 programFile"),n("br"),t._v("\n        drwxr-xr-x  10 yqdong  staff   340B  2 16 15:03 release"),n("br"),t._v("\n        -rw-r--r--   1 yqdong  staff   737B  4 18  2016 release15.sh"),n("br"),t._v("\n        -rw-r--r--   1 yqdong  staff   157B  4 12  2016 releaseBeta.sh"),n("br"),t._v("\n        drwxr-xr-x  12 yqdong  staff   408B  2  9 17:29 wx"),n("br")])],1)],1)])},staticRenderFns:[]}},178:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"panel"},[n("el-form",{on:{submit:function(e){e.preventDefault(),t.login(e)}},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},[n("div",{staticClass:"item"},[n("el-input",{attrs:{name:"hooksUsername",size:"large",placeholder:"用户名或邮箱",autofocus:!0,"auto-complete":"off"},model:{value:t.user.name,callback:function(e){t.user.name=e},expression:"user.name"}})],1),t._v(" "),n("div",{staticClass:"item"},[n("el-input",{attrs:{name:"hooksPwd",size:"large",placeholder:"密码",type:"password","auto-complete":"off"},model:{value:t.user.password,callback:function(e){t.user.password=e},expression:"user.password"}})],1),t._v(" "),n("el-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(e){e.preventDefault(),t.login(e)}}},[t._v("登录")]),t._v(" "),n("el-checkbox",[t._v("记住密码")])],1)],1)])},staticRenderFns:[]}},186:function(t,e){},187:function(t,e){},188:function(t,e){},189:function(t,e){},190:function(t,e){},191:function(t,e){},241:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=n(48),s=n(90),a=n.n(s),i=n(95),c=n(91),u=n.n(c),l=n(93),d=n(94),f=n(92);n.n(f);o.default.config.productionTip=!1,o.default.use(a.a),o.default.use(r.a),o.default.use(i.a);var p=new i.a.Store({modules:d.a});l.a.beforeEach(function(t,e,n){"login"===t.name?n():p.dispatch("getUser").then(function(){n()}).catch(function(){l.a.push({name:"login"})})}),new o.default({el:"#app",router:l.a,store:p,template:"<App/>",components:{App:u.a}})},242:function(t,e,n){"use strict";e.a={hook:{create:"createHook",query:"queryHooks"},user:{getUser:"getUser",login:"login"}}},243:function(t,e,n){"use strict";e.a={hook:{updateList:"updateList",add:"addHook"}}},244:function(t,e,n){"use strict";e.a={SUCCESS:1,ERROR:0,INVALID_USER:-1}},245:function(t,e,n){"use strict";var o,r,s=n(47),a=n.n(s),i=n(88),c=n.n(i),u=n(89),l=n(27);e.a={state:{list:[]},mutations:(o={},c()(o,l.b.hook.updateList,function(t,e){t.list=e}),c()(o,l.b.hook.add,function(t,e){t.list.push(e)}),o),actions:(r={},c()(r,l.a.hook.create,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:"",command:"",description:""};return new a.a(function(o,r){n.i(u.a)({url:"/hook/create",method:"post",data:e}).then(function(e){t.commit(l.b.hook.add,e.data),o()}).catch(function(){r()})})}),c()(r,l.a.hook.query,function(t){return new a.a(function(e,o){n.i(u.a)({url:"/hook/query",method:"post"}).then(function(n){t.commit(l.b.hook.updateList,n.data),e()}).catch(function(){o()})})}),r)}},246:function(t,e,n){"use strict";var o,r=n(88),s=n.n(r),a=n(47),i=n.n(a),c=n(89),u=n(27);e.a={state:{current:{id:"",name:"",token:"",email:"",password:""}},mutations:{setUser:function(t,e){t.current=e}},actions:(o={},s()(o,u.a.user.getUser,function(t){return new i.a(function(e,o){n.i(c.a)({url:"/users/getCurrent",method:"post"}).then(function(n){n.status===u.c.SUCCESS?(t.commit("setUser",n.data),e()):o()}).catch(function(){o()})})}),s()(o,u.a.user.login,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:"",password:""};return new i.a(function(o,r){n.i(c.a)({url:"/users/login",method:"post",data:e}).then(function(e){e.status===u.c.SUCCESS?(t.commit("setUser",e.data),o()):r()}).catch(function(t){r()})})}),o)}},247:function(t,e,n){"use strict";var o=n(47),r=n.n(o),s=n(101),a=n.n(s);e.a=function(t){return new r.a(function(e,n){a()(t).then(function(t){t.data.status?e(t.data):n(t.data)}).catch(function(t){n(t)})})}},248:function(t,e,n){"use strict";var o=n(87);n.n(o)},249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},250:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"list",data:function(){return{msg:"list"}}}},251:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(87),r=n.n(o),s=n(182),a=n.n(s),i=n(27),c=null;e.default={name:"create",data:function(){return{dialogFormVisible:!1,inputHistory:[],cwd:"",results:[],form:{name:"",description:""}}},mounted:function(){var t=this;c=a()("/"),c.on("terminal",function(e){t.inputHistory.push(e),t.cwd=e.cwd,setTimeout(function(){t.$refs.terminalPanel.scrollTop=999999})})},methods:{clickReturn:function(){this.$router.replace({name:"hookList"})},focusToInput:function(){this.$refs.terminalInput.focus()},onEnterOrder:function(){var t=this.$refs.terminalInput.value;t&&(c.emit("terminal",{order:t,cwd:this.cwd}),this.$refs.terminalInput.value="")},response:function(t){return t.split(/\n/).map(function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\s/g,"&nbsp")})},getCwd:function(){var t=this.cwd.split("/");return t[t.length-1]},onGenerateDefault:function(){this.results=this.inputHistory.map(function(t){return t.order})},onClearHistory:function(){this.inputHistory=[]},onReset:function(){this.dialogFormVisible=!1,this.form.name="",this.form.description=""},onSave:function(){var t=this;this.$store.dispatch(i.a.hook.create,{name:this.form.name,command:r()(this.results),description:this.form.description}).then(function(){t.onReset(),t.$router.push({name:"hookList"})}).catch(function(){t.$message({message:"创建失败",type:"error"})})}}}},252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),r=n(167),s=n.n(r);e.default={name:"main",data:function(){return{copyRes:"Copied",content:"",clipboard:null}},computed:{currentUser:function(){return this.$store.state.user.current},hookList:function(){return this.$store.state.hook.list}},mounted:function(){this.$store.dispatch(o.a.hook.query),this.clipboard=new s.a(".copy-btn");var t=this;this.clipboard.on("success",function(){t.copyRes="Copied",t.showCopyTip=!0,t.$message(t.copyRes)}),this.clipboard.on("error",function(){t.copyRes="Press Ctrl+C to copy",t.showCopyTip=!0,t.$message({message:t.copyRes,type:"error"})})},methods:{getAddr:function(t){return location.protocol+"//"+this.currentUser.address+(location.port?":"+location.port:"")+"/"+this.currentUser.token+"/"+t.id},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)},clickCreate:function(){this.$router.push({name:"createHook"})}}}},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"main",methods:{onClickLogo:function(){this.$router.push("/")}}}},254:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"login",data:function(){return{user:{name:"",password:""}}},methods:{login:function(){var t=this;this.$store.dispatch("login",this.user).then(function(){t.$router.replace({name:"hookList"})}).catch(function(){t.$message({message:"用户名或密码错误",type:"error"})})}}}},255:function(t,e){},27:function(t,e,n){"use strict";var o=n(244),r=n(242),s=n(243);n.d(e,"c",function(){return o.a}),n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return s.a})},89:function(t,e,n){"use strict";var o=n(247);n(248);n.d(e,"a",function(){return o.a})},91:function(t,e,n){function o(t){n(187)}var r=n(13)(n(249),n(174),o,null,null);t.exports=r.exports},92:function(t,e){},93:function(t,e,n){"use strict";var o=n(48),r=n(172),s=n.n(r),a=n(171),i=n.n(a),c=n(170),u=n.n(c),l=n(169),d=n.n(l),f=n(168),p=n.n(f),m=new o.a({routes:[{path:"/",component:i.a,redirect:{name:"hookList"},children:[{path:"hook/list",name:"hookList",component:u.a},{path:"hook/create",name:"createHook",component:d.a},{path:"history",name:"history",component:p.a}]},{path:"/login",name:"login",component:s.a}],mode:"history"});e.a=m},94:function(t,e,n){"use strict";var o=n(246),r=n(245);e.a={user:o.a,hook:r.a}}},[241]);
//# sourceMappingURL=app.dcdf0ba54b8fd61372a8.js.map